## **一、XSS (Cross Site Script) ，跨站脚本攻击**

XSS，即 Cross Site Script，中译是跨站脚本攻击；为了和CSS区分，因而在安全领域叫做 XSS。

XSS 攻击是指攻击者在网站上注入恶意的客户端代码，通过恶意脚本对客户端网页进行篡改，从而在用户浏览网页时，对用户浏览器进行控制或者获取用户隐私数据的一种攻击方式。

恶意脚本一般包括 JavaScript， HTML 和 Flash。
有很多种方式进行 XSS 攻击，但它们的共同点为：将一些隐私数据像 cookie、session 发送给攻击者，将受害者**重定向**到一个由攻击者控制的网站，在受害者的机器上进行一些恶意操作。

XSS攻击可以分为3类：反射型（非持久型）、存储型（持久型）、基于DOM

**1、反射型（非持久型）**
反射型 XSS 只是简单地把用户输入的数据 “反射” 给浏览器，这种攻击方式往往需要攻击者诱使用户点击一个恶意链接，或者提交一个表单，或者进入一个恶意网站时，注入脚本进入被攻击者的网站。（诱导用户进入被控制的网站等）


**2、存储型（持久型）**
存储型 XSS 会把用户输入的数据 “存储” 在**服务器端**，当浏览器请求数据时，脚本从服务器上传回并执行。这种 XSS 攻击具有很强的稳定性。


**3、基于DOM**
基于 DOM 的 XSS 攻击是指通过恶意脚本修改页面的 DOM 结构，是纯粹发生在客户端的攻击。通过代码脚本修改DOM绑定的链接或请求实现攻击。

**4、XSS攻击的防范**
a、现在主流的浏览器内置了防范 XSS 的措施，例如 CSP；
b、 HttpOnly 防止劫取 Cookie：HttpOnly 最早由微软提出，至今已经成为一个标准。浏览器将禁止页面的Javascript 访问带有 HttpOnly 属性的Cookie；
c、输入检测：输入检查一般是检查用户输入的数据中是否包含 <，> 等特殊字符，如果存在，则对特殊字符进行过滤或编码，这种方式也称为 XSS Filter；
d、输出检测：对输出内容进行有规则的过滤之后再输出到页面中。





## **二、CSRF(Cross Site Request Forgery)，跨站点伪造请求。**

CSRF，是一种劫持受信任用户向服务器发送非预期请求的攻击方式。

通常情况下，CSRF 攻击是攻击者借助受害者的 Cookie 骗取服务器的信任，可以在受害者毫不知情的情况下以受害者名义伪造请求发送给受攻击服务器，从而在并未授权的情况下执行在权限保护之下的操作。

**通过Cookie伪造进行服务器的恶意攻击**

用户点击攻击者事先准备好的网站，攻击者的网站伪造用户的Cookie,并发送到服务端，取得服务端的信任，从而执行像删帖这样的攻击。但是攻击者因为同源策略的原因是得不到服务返回的数据的。

**CSRF攻击的防范**

a、验证码：每次客户端的请求都充分的确认身份，但是不现实；

b、Refer cheak:根据 HTTP 协议，在 HTTP 头中有一个字段叫 Referer，它记录了该 HTTP 请求的来源地址。通过 Referer Check，可以检查请求是否来自合法的”源”。


c、添加 token 验证(token==令牌)：可以在 HTTP 请求中以参数的形式加入一个随机产生的 token，并在服务器端建立一个拦截器来验证这个 token，如果请求中没有 token 或者 token 内容不正确，则认为可能是 CSRF 攻击而拒绝该请求。






## **三、Http Heads攻击**

<!--stackedit_data:
eyJoaXN0b3J5IjpbMTU1MDI2NTQxNl19
-->